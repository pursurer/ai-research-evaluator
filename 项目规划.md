# AI 研究方向自动评估系统 - 项目规划

## 宏观项目蓝图 (Global Context)

### Project Goal
构建一个**自动化 AI 研究方向评估系统**，通过融合顶会论文数据与行业动态，基于 P-F-C 评估模型（Potential-Feasibility-Competition），为研究者提供研究方向的量化评分、趋势分析与决策建议。

### Core Definitions

| 术语 | 定义 |
|------|------|
| **P-F-C 模型** | 三维评估框架：科研潜力(35%)、技术可行性(40%，短板计分)、竞争环境(25%) |
| **ROI Score** | 综合评分 = 0.35×P_avg + 0.40×F_min + 0.25×C_avg |
| **熔断机制** | 若 F_min < 3，无论总分多少，直接判定为"不可行" |
| **研究方向** | 用户输入的关键词/描述，或系统自动发现的热点主题 |
| **实体对齐** | 将动态情报与静态论文数据进行关键词、方法、机构的多维匹配 |

### Master Plan (High-level Breakdown)

- [ ] **阶段一：基础框架搭建 (MVP)**
  - [x] 1.1 项目初始化与目录结构创建 ✅
  - [ ] 1.2 静态数据加载模块（CSV 解析与清洗）
  - [ ] 1.3 P-F-C 评估核心引擎（LLM 集成）
  - [ ] 1.4 Markdown 报告生成器
  - [x] 1.5 GitHub 仓库创建与基础 CI/CD ✅

- [ ] **阶段二：数据增强与自动化**
  - [ ] 2.1 关键词趋势分析模块（基于现有顶会数据）
  - [ ] 2.2 研究方向自动发现与推荐
  - [ ] 2.3 GitHub Actions 定时任务配置
  - [ ] 2.4 报告版本管理（/reports/YYYY-MM/）

- [ ] **阶段三：动态情报集成** *(未来模块)*
  - [ ] 3.1 X (Twitter) 监控爬虫
  - [ ] 3.2 官方 Blog RSS 订阅解析
  - [ ] 3.3 arXiv 预印本追踪
  - [ ] 3.4 实体对齐引擎

- [ ] **阶段四：外部 API 增强** *(未来模块)*
  - [ ] 4.1 Semantic Scholar / OpenAlex 引用数补全
  - [ ] 4.2 Papers With Code SOTA 榜单集成
  - [ ] 4.3 Google Trends 外部趋势数据
  - [ ] 4.4 算力需求自动推断优化

---

## 需求规格说明

### 1. 评估对象输入
- **模式 A**：用户手动输入研究方向（关键词/描述）
- **模式 B**：系统从顶会数据中自动发现热点方向
- **支持**：两种模式兼备，可单独或联合使用

### 2. 数据源

#### 2.1 静态数据（已就绪）
| 数据集 | 路径 | 字段 |
|--------|------|------|
| NeurIPS | `/顶会论文信息/NeurIPS/neurips_papers.csv` | id, title, keywords, abstract, pdf, forum, year, presentation_type |
| ICLR | `/顶会论文信息/ICLR/iclr_papers.csv` | 同上 |
| ICML | `/顶会论文信息/ICML/icml_papers.csv` | 同上 |
| AAAI | `/顶会论文信息/AAAI/aaai_papers.csv` | 同上 |
| ACL | `/顶会论文信息/ACL/acl_papers.csv` | 同上 |
| EMNLP | `/顶会论文信息/EMNLP/emnlp_papers.csv` | 同上 |
| NAACL | `/顶会论文信息/NAACL/naacl_papers.csv` | 同上 |
| IJCAI | `/顶会论文信息/IJCAI/ijcai_papers.csv` | 同上 |
| AISTATS | `/顶会论文信息/AISTATS/aistats_papers.csv` | 同上 |

#### 2.2 动态情报（未来模块）
| 来源 | 监控对象 | 权重建议 | 更新频率 |
|------|---------|---------|---------|
| **arXiv** | cs.AI, cs.LG, cs.CL, cs.CV | 40% | 每周 |
| **官方 Blog** | OpenAI, DeepMind, Meta AI, Anthropic | 35% | 每周 |
| **X (Twitter)** | 上述机构官方账号 | 25% | 每周 |

> **权重设计理由**：arXiv 预印本最具技术深度；官方 Blog 代表战略方向；X 动态时效性强但噪声较高。

### 3. 评估指标量化策略

| 指标 | MVP 阶段实现 | 未来增强 |
|------|-------------|---------|
| **P1 趋势红利** | 基于 9 个顶会 keywords 字段统计增长率 | + Google Trends API |
| **P2 叙事深度** | LLM 从 abstract 分析理论关联度 | - |
| **P3 SOTA 渗透率** | LLM 评估领域成熟度 | + Papers With Code API |
| **F1 算力匹配度** | LLM 从 abstract/methodology 推断 | + 标注数据库 |
| **F2 数据获取** | LLM 评估数据集可及性 | - |
| **F3 迭代周期** | LLM 推断实验复杂度 | - |
| **C1 巨头避让度** | 统计大厂论文占比 + LLM 分析 | + 动态情报验证 |
| **C2 研究空白区** | LLM 识别创新空间 | - |

### 4. 实体对齐设计

```
┌─────────────────────────────────────────────────────────────┐
│                    实体对齐引擎 (Entity Alignment)           │
├─────────────────────────────────────────────────────────────┤
│  Layer 1: 关键词匹配                                         │
│  - 动态情报关键词 ↔ 论文 keywords 字段                        │
│  - 使用 embedding 相似度 (threshold > 0.8)                   │
├─────────────────────────────────────────────────────────────┤
│  Layer 2: 方法/模型对齐                                      │
│  - 提取动态情报中的技术名词 (e.g., "Sora", "GPT-4o")          │
│  - 匹配论文 abstract 中的相关方法描述                         │
├─────────────────────────────────────────────────────────────┤
│  Layer 3: 机构/作者对齐                                      │
│  - 识别情报来源机构                                          │
│  - 关联该机构近期发表的顶会论文                               │
├─────────────────────────────────────────────────────────────┤
│  Output: 热点演进图谱                                        │
│  - 时间线：情报发布 → 相关论文 → 趋势预测                     │
└─────────────────────────────────────────────────────────────┘
```

### 5. LLM 集成
- **选择权**：由用户自行配置（支持 OpenAI GPT-4、Claude、本地模型等）
- **配置方式**：环境变量 + 配置文件
- **接口抽象**：统一 LLM 调用接口，便于切换不同提供商

### 6. 输出规格
- **格式**：Markdown（支持 GitHub 渲染）
- **语言**：中英双语标签
- **内容**：
  - 研究方向综合评分表
  - P-F-C 各维度详细分析
  - 趋势对比图表（ASCII/Mermaid）
  - 核心竞争点分析
  - 潜在风险评估
  - 6-12 个月演进预测
  - 决策建议（战略重点/差异化突围/快速捡漏/审慎避开）

### 7. GitHub 自动化
- **仓库**：独立新建仓库
- **目录结构**：`/reports/YYYY-MM/direction_name.md`
- **触发方式**：GitHub Actions 定时任务（每周）+ 手动触发
- **提交策略**：直接 push 到 main 分支

---

## TDD 演进日志 (Implementation History)

> 此处记录已完成任务的关键技术决策。

### [已完成] AGENTS.md 设计 (2024-12-31)
* **Implemented Functionality**: 为 AI Agent 设计项目操作指南
* **Key Decisions**: 
  - 采用 Python 技术栈（pytest/black/isort/mypy/ruff）
  - 定义 TDD 工作流程：阅读规格 → 执行 → 归档演进日志 → 更新蓝图
  - 制定 Commit 规范（type-scope-subject 格式）
* **Files Created**: `AGENTS.md`

### [已完成] 项目初始化与 GitHub 仓库创建 (2024-12-31)
* **Implemented Functionality**: 完成任务 1.1 + 1.5，项目骨架搭建与首次推送
* **Key Decisions**: 
  - 项目根目录：`/评价方向/ai_research_evaluator/`
  - 采用 pyproject.toml 管理项目元数据
  - GitHub Actions CI 配置：tests.yml（支持 Python 3.10/3.11/3.12）
  - 预留 src/ 子模块：data、evaluation、llm、report、utils
* **Files Created**: 
  - `README.md`, `requirements.txt`, `.env.example`, `.gitignore`
  - `pyproject.toml`, `LICENSE`
  - `src/**/__init__.py`, `tests/conftest.py`, `tests/test_placeholder.py`
  - `scripts/evaluate.py`, `.github/workflows/tests.yml`
* **GitHub Repo**: https://github.com/pursurer/ai-research-evaluator

---

## 当前原子任务规格书 (Current Atomic Task Spec)

### 3.1 Goal (Local)
**Purpose**: 实现静态数据加载模块（任务 1.2），支持从 9 个顶会 CSV 加载论文数据

### 3.2 Plan (Micro-steps)
1. 定义 `Paper` 数据模型（Pydantic Schema）
2. 编写测试用例 `tests/test_loader.py`（TDD 先写测试）
3. 实现 `src/data/schema.py` — 数据模型定义
4. 实现 `src/data/loader.py` — CSV 加载器
5. 实现 `src/data/cleaner.py` — 数据清洗逻辑
6. 运行测试验证，确保全部通过
7. 提交代码并推送

### 3.3 Context & Files
- **Source files to create/modify**: 
  - `src/data/schema.py` — Paper 模型定义
  - `src/data/loader.py` — PapersLoader 类
  - `src/data/cleaner.py` — 清洗函数
  - `src/data/__init__.py` — 导出公共接口
  - `tests/test_loader.py` — 加载器测试
- **Data Schema** (来自 neurips_papers.csv):
  - `id`: str — 论文唯一标识
  - `title`: str — 标题
  - `keywords`: List[str] — 关键词列表（JSON 字符串需解析）
  - `abstract`: str — 摘要
  - `pdf`: str — PDF 链接
  - `forum`: str — 论坛链接
  - `year`: int — 年份
  - `presentation_type`: str — 展示类型（Oral/Poster/Spotlight）

### 3.4 Verification
- [ ] `pytest tests/test_loader.py -v` 全部通过
- [ ] 能正确加载单个顶会 CSV
- [ ] 能批量加载所有 9 个顶会数据
- [ ] keywords 字段正确从 JSON 字符串解析为列表
- [ ] 异常处理：文件不存在、格式错误时抛出明确异常

### 3.5 Boundaries
- **Out-of-scope**: 本次不实现趋势分析、关键词统计
- **Extensions**: 为后续 trend_analyzer.py 预留接口

---

## 未来模块预告 (Roadmap)

> 以下模块将在 MVP 完成后逐步实现，详见 README.md

| 模块 | 描述 | 依赖 | 优先级 |
|------|------|------|--------|
| **外部趋势数据库** | 集成 Google Trends API，增强 P1 指标准确性 | MVP 完成 | P1 |
| **Papers With Code 集成** | 获取 SOTA 榜单数据，量化 P3 指标 | MVP 完成 | P1 |
| **引用数据补全** | Semantic Scholar / OpenAlex API 补全 citation count | MVP 完成 | P2 |
| **算力推断增强** | 构建算力需求标注库，优化 F1 评估 | MVP 完成 | P2 |
| **X (Twitter) 监控** | 爬取 OpenAI/DeepMind/Meta/Anthropic 官方动态 | MVP 完成 | P3 |
| **官方 Blog 订阅** | RSS 解析主要 AI 实验室技术博客 | MVP 完成 | P3 |
| **arXiv 追踪** | 监控 cs.AI/LG/CL/CV 最新预印本 | MVP 完成 | P3 |
| **实体对齐引擎** | 多层级匹配算法实现 | 动态情报模块 | P4 |