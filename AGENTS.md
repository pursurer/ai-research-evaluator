# AI Research Evaluator - AGENTS.md

> æœ¬æ–‡ä»¶ä¸º AI Agentï¼ˆå¦‚ Cascadeã€Cursorï¼‰æä¾›é¡¹ç›®ä¸Šä¸‹æ–‡å’Œæ“ä½œæŒ‡å—ã€‚

---

## é¡¹ç›®æ¦‚è¿° (Project Overview)

- **é¡¹ç›®åç§°**: AI ç ”ç©¶æ–¹å‘è‡ªåŠ¨è¯„ä¼°ç³»ç»Ÿ (ai-research-evaluator)
- **æŠ€æœ¯æ ˆ**: Python 3.10+ / Pandas / LangChain / pytest
- **æ ¸å¿ƒåŠŸèƒ½**: åŸºäº P-F-C æ¨¡å‹è¯„ä¼° AI ç ”ç©¶æ–¹å‘çš„æŠ•èµ„å›æŠ¥ç‡
- **å…³é”®æ–‡ä»¶**:
  - `judge.md` - è¯„ä¼°æ¡†æ¶å®šä¹‰ï¼ˆP-F-C æ¨¡å‹ã€è¯„åˆ†æ ‡å‡†ï¼‰
  - `é¡¹ç›®è§„åˆ’.md` - ä»»åŠ¡è“å›¾ä¸ TDD æ¼”è¿›æ—¥å¿—
  - `é¡¹ç›®ç»“æ„.md` - ä»£ç æ¶æ„ä¸ API å¥‘çº¦

---

## å¼€å‘ç¯å¢ƒæŠ€å·§ (Dev Environment Tips)

- ä½¿ç”¨ `python -m venv venv && source venv/bin/activate` åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
- è¿è¡Œ `pip install -r requirements.txt` å®‰è£…æ‰€æœ‰ä¾èµ–
- ä½¿ç”¨ `pip install -e .` ä»¥å¼€å‘æ¨¡å¼å®‰è£…é¡¹ç›®ï¼ˆæ”¯æŒæœ¬åœ°å¯¼å…¥ï¼‰
- é…ç½®ç¯å¢ƒå˜é‡ï¼š`cp .env.example .env` åç¼–è¾‘ `.env` å¡«å…¥ API Key
- æ•°æ®è·¯å¾„é€šè¿‡ `PAPERS_DATA_ROOT` ç¯å¢ƒå˜é‡æŒ‡å‘ `/é¡¶ä¼šè®ºæ–‡ä¿¡æ¯/` ç›®å½•

---

## æµ‹è¯•è¯´æ˜ (Testing Instructions)

- åœ¨ `.github/workflows/tests.yml` ä¸­æ‰¾åˆ° CI é…ç½®
- è¿è¡Œ `pytest` æ‰§è¡Œå…¨éƒ¨æµ‹è¯•
- è¿è¡Œ `pytest tests/test_xxx.py -v` æ‰§è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
- è¿è¡Œ `pytest -k "test_name"` æ‰§è¡Œå•ä¸ªæµ‹è¯•ç”¨ä¾‹
- è¿è¡Œ `pytest --cov=src --cov-report=html` ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- ä¿®å¤ä»»ä½•æµ‹è¯•æˆ–ç±»å‹é”™è¯¯ï¼Œç›´åˆ°æ•´ä¸ªæµ‹è¯•å¥—ä»¶å˜ç»¿ï¼ˆå…¨éƒ¨é€šè¿‡ï¼‰
- **ä¸ºä½ æ›´æ”¹çš„ä»£ç æ·»åŠ æˆ–æ›´æ–°æµ‹è¯•ï¼Œå³ä½¿æ²¡æœ‰äººè¦æ±‚ä½ è¿™ä¹ˆåš**

---

## ä»£ç è´¨é‡ (Code Quality)

- è¿è¡Œ `black src/ tests/` æ ¼å¼åŒ–ä»£ç 
- è¿è¡Œ `isort src/ tests/` æ’åºå¯¼å…¥
- è¿è¡Œ `mypy src/` è¿›è¡Œç±»å‹æ£€æŸ¥
- è¿è¡Œ `ruff check src/` æ‰§è¡Œ lint æ£€æŸ¥
- æäº¤å‰åŠ¡å¿…è¿è¡Œï¼š`black . && isort . && mypy src/ && pytest`

---

## TDD å·¥ä½œæµç¨‹ (TDD Workflow)

> **âš ï¸ Agent å¿…é¡»ä¸¥æ ¼éµå®ˆæ­¤æµç¨‹**

### æ‰§è¡Œé˜¶æ®µ
1. **é˜…è¯»** `é¡¹ç›®è§„åˆ’.md` ä¸­çš„ã€Œå½“å‰åŸå­ä»»åŠ¡è§„æ ¼ä¹¦ã€
2. **ä»…å¤„ç†** Scope å†…çš„å†…å®¹ï¼Œä¸è¶Šç•Œ
3. **å…ˆå†™æµ‹è¯•**ï¼Œå†å®ç°åŠŸèƒ½ï¼ˆTest-Drivenï¼‰
4. **éªŒè¯** æ‰€æœ‰æµ‹è¯•é€šè¿‡

### å®ŒæˆååŠ¨ä½œï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰
1. å°†æœ¬ä»»åŠ¡å…³é”®ä¿¡æ¯ç§»åŠ¨åˆ°ã€ŒTDD æ¼”è¿›æ—¥å¿—ã€
2. æ›´æ–°ã€Œå®è§‚é¡¹ç›®è“å›¾ã€ä¸­å¯¹åº”ä»»åŠ¡çš„æ‰“é’©çŠ¶æ€ `[x]`
3. æ¸…ç©ºã€Œå½“å‰åŸå­ä»»åŠ¡è§„æ ¼ä¹¦ã€ï¼Œé‡å†™ä¸‹ä¸€ä¸ªä»»åŠ¡è®¡åˆ’

---

## Commit è§„èŒƒ (Commit Convention)

```
<type>(<scope>): <subject>

type: feat | fix | docs | style | refactor | test | chore
scope: data | evaluation | llm | report | discovery | ci
```

**ç¤ºä¾‹**:
- `feat(data): add CSV loader for conference papers`
- `test(evaluation): add unit tests for ROI scorer`
- `docs: update README with installation guide`

---

## PR è¯´æ˜ (PR Instructions)

- æ ‡é¢˜æ ¼å¼ï¼š`[ai-research-evaluator] <ç®€è¦æè¿°>`
- æäº¤å‰åŠ¡å¿…è¿è¡Œï¼š`pytest && mypy src/`
- PR æè¿°éœ€åŒ…å«ï¼šä¿®æ”¹å†…å®¹ã€æµ‹è¯•è¦†ç›–ã€å…³è” Issue

---

## å…³é”®è·¯å¾„ (Key Paths)

| è·¯å¾„ | è¯´æ˜ |
|------|------|
| `src/data/` | æ•°æ®åŠ è½½ä¸æ¸…æ´—æ¨¡å— |
| `src/evaluation/` | P-F-C è¯„ä¼°å¼•æ“ |
| `src/llm/` | LLM æŠ½è±¡å±‚ï¼ˆæ”¯æŒå¤šæä¾›å•†ï¼‰ |
| `src/report/` | Markdown æŠ¥å‘Šç”Ÿæˆ |
| `config/` | YAML é…ç½®æ–‡ä»¶ |
| `tests/` | pytest æµ‹è¯•ç”¨ä¾‹ |
| `scripts/` | CLI å…¥å£è„šæœ¬ |
| `reports/YYYY-MM/` | ç”Ÿæˆçš„è¯„ä¼°æŠ¥å‘Šå½’æ¡£ |

---

## è¯„ä¼°æ¨¡å‹é€ŸæŸ¥ (P-F-C Model Quick Reference)

```
ROI Score = 0.35 Ã— P_avg + 0.40 Ã— F_min + 0.25 Ã— C_avg

P (Potential 35%): P1è¶‹åŠ¿çº¢åˆ© + P2å™äº‹æ·±åº¦ + P3 SOTAæ¸—é€ç‡
F (Feasibility 40%): min(F1ç®—åŠ›, F2æ•°æ®, F3å‘¨æœŸ) â† çŸ­æ¿è®¡åˆ†
C (Competition 25%): C1å·¨å¤´é¿è®©åº¦ + C2ç ”ç©¶ç©ºç™½åŒº

ğŸš¨ ç†”æ–­æœºåˆ¶: F_min < 3 â†’ ç›´æ¥åˆ¤å®š"ä¸å¯è¡Œ"
```

---

## ç¦æ­¢äº‹é¡¹ (Do NOT)

- âŒ ä¸è¦ç¡¬ç¼–ç  API Keyï¼ˆä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰
- âŒ ä¸è¦ä¿®æ”¹ `judge.md` ä¸­çš„è¯„ä¼°æ¡†æ¶å®šä¹‰
- âŒ ä¸è¦å¤„ç†ã€Œå½“å‰åŸå­ä»»åŠ¡è§„æ ¼ä¹¦ã€Scope ä»¥å¤–çš„å†…å®¹
- âŒ ä¸è¦åˆ é™¤æˆ–å¼±åŒ–ç°æœ‰æµ‹è¯•ç”¨ä¾‹
- âŒ ä¸è¦åœ¨æœªæ›´æ–°æ¼”è¿›æ—¥å¿—çš„æƒ…å†µä¸‹å¼€å§‹æ–°ä»»åŠ¡